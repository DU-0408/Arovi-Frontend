{"ast":null,"code":"export const detectSystemDarkMode=()=>{if(typeof window==='undefined')return false;return window.matchMedia('(prefers-color-scheme: dark)').matches;};export const getEffectiveDarkMode=preference=>{if(preference==='system'){return detectSystemDarkMode();}return preference==='dark';};export const subscribeToSystemDarkMode=callback=>{if(typeof window==='undefined')return()=>{};const mediaQuery=window.matchMedia('(prefers-color-scheme: dark)');const handleChange=e=>{callback(e.matches);};mediaQuery.addEventListener('change',handleChange);// Return cleanup function\nreturn()=>{mediaQuery.removeEventListener('change',handleChange);};};","map":{"version":3,"names":["detectSystemDarkMode","window","matchMedia","matches","getEffectiveDarkMode","preference","subscribeToSystemDarkMode","callback","mediaQuery","handleChange","e","addEventListener","removeEventListener"],"sources":["/Users/devanshupadhyay/PDs/IBM/frontend/src/utils/darkMode.ts"],"sourcesContent":["export type DarkModePreference = 'system' | 'light' | 'dark';\n\nexport const detectSystemDarkMode = (): boolean => {\n  if (typeof window === 'undefined') return false;\n  return window.matchMedia('(prefers-color-scheme: dark)').matches;\n};\n\nexport const getEffectiveDarkMode = (preference: DarkModePreference): boolean => {\n  if (preference === 'system') {\n    return detectSystemDarkMode();\n  }\n  return preference === 'dark';\n};\n\nexport const subscribeToSystemDarkMode = (callback: (isDark: boolean) => void): (() => void) => {\n  if (typeof window === 'undefined') return () => {};\n  \n  const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\n  \n  const handleChange = (e: MediaQueryListEvent) => {\n    callback(e.matches);\n  };\n  \n  mediaQuery.addEventListener('change', handleChange);\n  \n  // Return cleanup function\n  return () => {\n    mediaQuery.removeEventListener('change', handleChange);\n  };\n}; "],"mappings":"AAEA,MAAO,MAAM,CAAAA,oBAAoB,CAAGA,CAAA,GAAe,CACjD,GAAI,MAAO,CAAAC,MAAM,GAAK,WAAW,CAAE,MAAO,MAAK,CAC/C,MAAO,CAAAA,MAAM,CAACC,UAAU,CAAC,8BAA8B,CAAC,CAACC,OAAO,CAClE,CAAC,CAED,MAAO,MAAM,CAAAC,oBAAoB,CAAIC,UAA8B,EAAc,CAC/E,GAAIA,UAAU,GAAK,QAAQ,CAAE,CAC3B,MAAO,CAAAL,oBAAoB,CAAC,CAAC,CAC/B,CACA,MAAO,CAAAK,UAAU,GAAK,MAAM,CAC9B,CAAC,CAED,MAAO,MAAM,CAAAC,yBAAyB,CAAIC,QAAmC,EAAmB,CAC9F,GAAI,MAAO,CAAAN,MAAM,GAAK,WAAW,CAAE,MAAO,IAAM,CAAC,CAAC,CAElD,KAAM,CAAAO,UAAU,CAAGP,MAAM,CAACC,UAAU,CAAC,8BAA8B,CAAC,CAEpE,KAAM,CAAAO,YAAY,CAAIC,CAAsB,EAAK,CAC/CH,QAAQ,CAACG,CAAC,CAACP,OAAO,CAAC,CACrB,CAAC,CAEDK,UAAU,CAACG,gBAAgB,CAAC,QAAQ,CAAEF,YAAY,CAAC,CAEnD;AACA,MAAO,IAAM,CACXD,UAAU,CAACI,mBAAmB,CAAC,QAAQ,CAAEH,YAAY,CAAC,CACxD,CAAC,CACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}